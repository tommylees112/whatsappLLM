direction: right

users: Users {
  shape: person
}

cli: CLI Client {
  shape: rectangle
  style: {
    stroke-dash: 5
  }
}

whatsapp: WhatsApp {
  shape: diamond
}

api_gateway: API Gateway {
  shape: hexagon
}

lambda: AWS Lambda {
  shape: rectangle
  note: "Summarization Function"
}

sqs: SQS Queue {
  shape: queue
  note: "Optional: For high load scenarios"
}

external_apis: External APIs {
  shape: cloud
  cohere: Cohere API
  twilio: Twilio API
}

users -> api_gateway: HTTPS
cli -> api_gateway: "API requests"
whatsapp -> api_gateway: "API requests"
api_gateway -> lambda: "Trigger"
api_gateway -> sqs: "Enqueue request (optional)"
sqs -> lambda: "Trigger (optional)"
lambda -> external_apis: "API calls"